
<!doctype html>
<html>
<head>
  <title>Pianola Player with autocalibrate</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Pianola Player</h1>
  <container>
    
    <video playsinline autoplay></video>
    <canvas></canvas>
    
    <img src='./images/main.png' class='main-image'>
    
    <div id='top-panel'>
      <span>Offset</span>
      <div class="slide-container">
        <input class='slider' type="range" min="-5" max="5" value="0" id="alignCapture"> 
      </div>
      <br>
      <span>Stretch</span>
      <div class="slide-container">
        <input class='slider' type="range" min="-10" max="10" value="-7" id="stretchShrink"> 
      </div>
      
      <button id='buttonAddCaptureArea' class='round-button round-button--small'>Add</button>
    </div>
    
    <button id='show-panel' style='transform: rotate(0deg)'></button>
    
    <div id="bottom-panel" style='bottom: -170px;'>
      <button class='round-button' id="reverse">Reverse</button>
      <h2>Filter controls</h2>
      <div id='filters' class='panel2'>
        <span>Threshold</span><input type="number" min="0" max="255" value="180" id="sliderClamp"><br>
        <span>Brightness</span><input type="number" min="-500" max="500" value="200" id="sliderBrightness"><br>
        <span>Contrast</span><input type="number" min="0" max="1000" value="150" id="sliderContrast"><br>
      </div>
      <!-- 
        Block colours:<input type="checkbox" id="checkboxClamp" checked>
        Enable filters:<input type="checkbox" id="checkboxFilters" checked> -->
        <div class='panel2' id='ypanel'>
          <span>Y</span><input type="number" min="0" max="300" value="320" id="sliderY">
          <!-- The following calibration is original manual calibration for 640 pixel canvas -->
          <textarea id='calibrationNumbers'>54 60.97 65.93 71.9 77.86 83.83 89.8 95.76 101.73 107.69 113.66 119.63 125.59 131.56 137.52 143.19 149 155 161 167 173 179 185 191 197 203 209 215 221 227 233 239 245 251 256 262 268.5 274.5 280 286 292 298 304 309.5 316 322 328 334 339 345 351 357 363 369 375 381 387 393 399 405 411 417 423 429 435 441 447 453 459.5 465 471 477 483 490 496 502.44 508.41 514.37 520.34 526.31 532.27 538.24 544.2 550.17 556.14 562.1 568.07 574.5 581</textarea> 
        </div>
      </div>
      
      <div id="divMotor">
        <h2>Motor controls</h2>
        <button class='round-button' id="forwards">Play</button>
        <button class='round-button' id="stop">Stop</button>
        
      </div>
      
    </container>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.52/Tone.js"></script>
    <script type="module" src="client.js"></script>
  </body>
  </html>
  